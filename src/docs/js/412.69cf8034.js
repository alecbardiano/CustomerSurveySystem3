"use strict";(self["webpackChunkcustomersurveysystem3"]=self["webpackChunkcustomersurveysystem3"]||[]).push([[412],{22412:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Me});var t=l(83673),r=l(62323);const o={class:"q-pa-md"},i={class:"row"},u={class:"col-3"},s={class:"col-6"},n={key:1,class:"row"},d={class:"col-3"},c={class:"col-6"},v={key:2,class:"row"},m={class:"row inline"},p={class:"row items-center justify-end"},h={class:"row items-center justify-end"},w={class:"q-pa-md"},g={class:"layout-padding"},f={class:"flex wrap gutter"},b={class:"width-1of3 sm-auto"},y={class:"width-1of3 sm-auto"},D={class:"width-1of3 sm-auto"},k={class:"q-pa-md"},C={class:"layout-padding"},_={class:"flex wrap gutter"},S={class:"q-pa-md row items-start q-gutter-md"},P={class:"q-pa-md row items-start q-gutter-md"},W={class:"q-pa-md"},x={class:"q-pa-md"},H=(0,t.Uk)("Total:"),q={key:0},F={class:"q-pa-md"},T=(0,t.Uk)(" Total Actual Respondents "),V=(0,t.Uk)(" Total Actual No. of Customers Served "),O=(0,t.Uk)(" Target No. of Respondents "),A=(0,t.Uk)(" Percentage "),E={class:"text-h5 inline"},M=(0,t._)("span",null,null,-1),R={class:"fixed-right"},N=(0,t.Uk)("Minimize"),Y=(0,t.Uk)("Maximize"),z=(0,t.Uk)("Close");function Q(e,a,l,Q,U,Z){const j=(0,t.up)("q-select"),B=(0,t.up)("q-btn"),L=(0,t.up)("q-date"),K=(0,t.up)("q-popup-proxy"),J=(0,t.up)("q-icon"),X=(0,t.up)("q-input"),I=(0,t.up)("q-form"),G=(0,t.up)("card-dashboard-feedback-count"),$=(0,t.up)("doughnut-chart"),ee=(0,t.up)("q-card-section"),ae=(0,t.up)("q-card"),le=(0,t.up)("bar-chart"),te=(0,t.up)("line-chart"),re=(0,t.up)("q-th"),oe=(0,t.up)("q-tr"),ie=(0,t.up)("q-td"),ue=(0,t.up)("q-table"),se=(0,t.up)("q-tooltip"),ne=(0,t.up)("q-dialog"),de=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",o,[(0,t._)("div",i,[(0,t._)("div",u,[(0,t.Wm)(j,{outlined:"",modelValue:Q.modeDashboard,"onUpdate:modelValue":a[0]||(a[0]=e=>Q.modeDashboard=e),style:{"max-width":"200px"},options:Q.modeOptions,width:"30px",label:"Mode"},null,8,["modelValue","options"])]),(0,t._)("div",s,["Annual"==Q.modeDashboard?((0,t.wg)(),(0,t.j4)(j,{key:0,outlined:"",modelValue:Q.yearTsr,"onUpdate:modelValue":a[1]||(a[1]=e=>Q.yearTsr=e),style:{"max-width":"200px"},"option-label":"text",options:Q.yearOptions,width:"30px",label:"Year"},null,8,["modelValue","options"])):(0,t.kq)("",!0),"Quarterly"==Q.modeDashboard?((0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("div",d,[(0,t.Wm)(j,{outlined:"",modelValue:Q.yearTsrQuarter,"onUpdate:modelValue":a[2]||(a[2]=e=>Q.yearTsrQuarter=e),style:{"max-width":"200px"},"option-label":"text",options:Q.yearOptions,width:"30px",label:"Year"},null,8,["modelValue","options"])]),(0,t._)("div",c,[(0,t.Wm)(j,{outlined:"",modelValue:Q.quarterTSR,"onUpdate:modelValue":a[3]||(a[3]=e=>Q.quarterTSR=e),"option-value":"value",style:{"max-width":"200px"},options:Q.quarterOptions,width:"30px",label:"Quarter"},null,8,["modelValue","options"])])])):(0,t.kq)("",!0),"Date Range"==Q.modeDashboard?((0,t.wg)(),(0,t.iD)("div",v,[(0,t.Wm)(I,{ref:"dateform",onSubmit:a[8]||(a[8]=e=>Q.submitDate())},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(X,{outlined:"",filled:"",mask:"date",modelValue:Q.beforeDate,"onUpdate:modelValue":a[5]||(a[5]=e=>Q.beforeDate=e),"lazy-rules":"",rules:[e=>e<=Q.afterDate||"Field should be earlier than after date"],placeholder:"mm/dd/yy",hint:"Start Date"},{append:(0,t.w5)((()=>[(0,t.Wm)(J,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{modelValue:Q.beforeDate,"onUpdate:modelValue":a[4]||(a[4]=e=>Q.beforeDate=e)},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.wy)((0,t.Wm)(B,{label:"Close",color:"primary",flat:""},null,512),[[de]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"]),(0,t.Wm)(X,{outlined:"",filled:"",mask:"date",style:{"padding-left":"25px"},modelValue:Q.afterDate,"onUpdate:modelValue":a[7]||(a[7]=e=>Q.afterDate=e),"lazy-rules":"",rules:[e=>e>=Q.beforeDate||"Field should be later than before date"],placeholder:"mm/dd/yy",hint:"End Date"},{append:(0,t.w5)((()=>[(0,t.Wm)(J,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{modelValue:Q.afterDate,"onUpdate:modelValue":a[6]||(a[6]=e=>Q.afterDate=e)},{default:(0,t.w5)((()=>[(0,t._)("div",h,[(0,t.wy)((0,t.Wm)(B,{label:"Close",color:"primary",flat:""},null,512),[[de]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"]),(0,t.Wm)(B,{type:"submit",label:"Go",color:"primary",style:{"margin-left":"25px",width:"70px",height:"25px"}})])])),_:1},512)])):(0,t.kq)("",!0)])])]),(0,t._)("div",w,[(0,t._)("div",g,[(0,t._)("div",f,[(0,t._)("div",b,[(0,t.Wm)(G,{title:"Total TSRs",backgroundColor:"green","icon-name":"local_post_office",total:Q.totalTsrs},null,8,["total"])]),(0,t._)("div",y,[(0,t.Wm)(G,{onClick:a[9]||(a[9]=e=>Q.callCardData(1)),title:"Negative Feedback",backgroundColor:"red",total:Q.totalNegative},null,8,["total"])]),(0,t._)("div",D,[(0,t.Wm)(G,{onClick:a[10]||(a[10]=e=>Q.callCardData(2)),title:"Positive Feedback",backgroundColor:"blue",total:Q.totalPositive},null,8,["total"])])])])]),(0,t._)("div",k,[(0,t._)("div",C,[(0,t._)("div",_,[(0,t._)("div",S,[(0,t.Wm)(ae,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(ee,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{labels:Q.chartDataModelLabel,label:"Overall Performance of the Center Based on CSS Responses",chartData:Q.chartDataModelData},null,8,["labels","chartData"])])),_:1})])),_:1})]),(0,t._)("div",P,[(0,t.Wm)(ae,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(ee,null,{default:(0,t.w5)((()=>[(0,t.Wm)(le,{labels:Q.chartDataModelCustomersLabel,label:"Total Number of CSM Respondents Per Month",chartData:Q.chartDataModelCustomersData},null,8,["labels","chartData"])])),_:1})])),_:1})])])])]),(0,t._)("div",W,[(0,t.Wm)(ae,null,{default:(0,t.w5)((()=>[(0,t.Wm)(te,{labelkeys:Q.lineChartLabel,labels:Q.chartDataModelCustomersLabel,label:"Number of Customers and CSM Respondents Per Service Area",chartData:Q.chartDataModelNumberPerServiceArea},null,8,["labelkeys","labels","chartData"])])),_:1})]),(0,t._)("div",x,[(0,t.Wm)(ue,{rows:Q.rowsOverallPerformance,class:"my-sticky-header-table",columns:Q.colsOverallPerformance,"row-key":"col1",separator:"cell",title:"Overall Performance of the Center Based on CSS Responses",style:{height:"500px"},"rows-per-page-options":[0]},{header:(0,t.w5)((()=>[(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(re,{key:"serviceArea",style:{width:"250px"},class:"bg-light-blue-9 black-white"}),(0,t.Wm)(re,{key:"percentage",style:{width:"100px"},class:"bg-light-blue-9 black-white"}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Q.divisions,(e=>((0,t.wg)(),(0,t.j4)(re,{key:e.name,colspan:e.count},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.division),1)])),_:2},1032,["colspan"])))),128))])),_:1}),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Q.colsOverallPerformance,(e=>((0,t.wg)(),(0,t.j4)(re,{key:e.name,class:"bg-light-blue-9 black-white"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.name),1)])),_:2},1024)))),128))])),_:1})])),"bottom-row":(0,t.w5)((()=>[(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[H])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Q.totalPerField,(e=>((0,t.wg)(),(0,t.j4)(ie,{style:{"text-align":"center"},key:e.key},{default:(0,t.w5)((()=>[0!=e.value?((0,t.wg)(),(0,t.iD)("p",q,(0,r.zw)(e.value),1)):(0,t.kq)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["rows","columns"])]),(0,t._)("div",F,[(0,t.Wm)(ue,{rows:Q.rowsnumberOfCustomers,columns:Q.colsnumberOfCustomers,class:"my-sticky-header-table","row-key":"col1",title:"Number of Customers and CSM Respondents Per Service Area",separator:"cell","rows-per-page-options":[0]},{header:(0,t.w5)((()=>[(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(re,{key:"Month",style:{width:"250px"},class:"primary"}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Q.divisions,(e=>((0,t.wg)(),(0,t.j4)(re,{key:e.name,colspan:e.count},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.division),1)])),_:2},1032,["colspan"])))),128)),(0,t.Wm)(re,{key:"Total",style:{width:"250px"},class:"primary"})])),_:1}),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Q.colsnumberOfCustomers,(e=>((0,t.wg)(),(0,t.j4)(re,{key:e.name,class:"bg-light-blue-9 black-white"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.name),1)])),_:2},1024)))),128))])),_:1})])),"bottom-row":(0,t.w5)((()=>[(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[T])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Q.totalActualRespondents,(e=>((0,t.wg)(),(0,t.j4)(ie,{style:{"text-align":"center"},key:e.key},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.value),1)])),_:2},1024)))),128))])),_:1}),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[V])),_:1}),(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(),1)])),_:1})])),_:1}),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[O])),_:1}),(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(),1)])),_:1})])),_:1}),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[A])),_:1}),(0,t.Wm)(ie,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(),1)])),_:1})])),_:1})])),_:1},8,["rows","columns"]),(0,t.Wm)(ne,{modelValue:Q.cardModal,"onUpdate:modelValue":a[15]||(a[15]=e=>Q.cardModal=e),maximized:Q.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{class:"bg-primary text-white"},{default:(0,t.w5)((()=>[(0,t._)("div",E,[M,(0,t._)("div",R,[(0,t.Wm)(B,{dense:"",flat:"",icon:"minimize",onClick:a[11]||(a[11]=e=>Q.maximizedToggle=!1),disable:!Q.maximizedToggle},{default:(0,t.w5)((()=>[Q.maximizedToggle?((0,t.wg)(),(0,t.j4)(se,{key:0,class:"bg-white text-primary"},{default:(0,t.w5)((()=>[N])),_:1})):(0,t.kq)("",!0)])),_:1},8,["disable"]),(0,t.Wm)(B,{dense:"",flat:"",icon:"crop_square",onClick:a[12]||(a[12]=e=>Q.maximizedToggle=!0),disable:Q.maximizedToggle},{default:(0,t.w5)((()=>[Q.maximizedToggle?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(se,{key:0,class:"bg-white text-primary"},{default:(0,t.w5)((()=>[Y])),_:1}))])),_:1},8,["disable"]),(0,t.wy)((0,t.Wm)(B,{dense:"",flat:"",icon:"close"},{default:(0,t.w5)((()=>[(0,t.Wm)(se,{class:"bg-white text-primary"},{default:(0,t.w5)((()=>[z])),_:1})])),_:1},512),[[de]])])])])),_:1}),(0,t.Wm)(ee,{class:"row items-left"},{default:(0,t.w5)((()=>[Q.cardData?((0,t.wg)(),(0,t.j4)(ue,{key:0,class:"my-sticky-header-table",title:Q.cardTitle,rows:Q.rows,columns:Q.cardDataCols,filter:Q.filter,pagination:Q.pagination,"onUpdate:pagination":a[14]||(a[14]=e=>Q.pagination=e),onRequest:Q.onRequestCard,"binary-state-sort":"",separator:"cell"},{"top-right":(0,t.w5)((()=>[(0,t.Wm)(X,{class:"placeholderClass",borderless:"",dense:"",debounce:"300",modelValue:Q.filter,"onUpdate:modelValue":a[13]||(a[13]=e=>Q.filter=e),placeholder:"Search"},{append:(0,t.w5)((()=>[(0,t.Wm)(J,{class:"searchClass",name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["title","rows","columns","filter","pagination","onRequest"])):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue","maximized"])])],64)}l(10071),l(90246);var U=l(61959),Z=l(26873);const j=e=>((0,t.dD)("data-v-2f5fe920"),e=e(),(0,t.Cn)(),e),B={class:"q-pa-md row items-start q-gutter-md showhim"},L={class:"text-h6"},K={align:"center"},J={class:"ok"},X={class:"fontsizeCard"},I=j((()=>(0,t._)("div",{class:"showme"},null,-1)));function G(e,a,l,o,i,u){const s=(0,t.up)("q-card-section"),n=(0,t.up)("q-card");return(0,t.wg)(),(0,t.iD)("div",B,[(0,t.Wm)(n,{class:"customCard"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{class:"bg-primary text-white"},{default:(0,t.w5)((()=>[(0,t._)("div",L,(0,r.zw)(e.title),1)])),_:1}),(0,t._)("div",K,[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t._)("div",J,[(0,t._)("p",X,(0,r.zw)(e.total),1)]),I])),_:1})])])),_:1})])}const $=(0,t.aZ)({props:["title","total","backgroundColor","iconName","tsrFeedbackData","modalFlag"],name:"CardDashboardFeedbackView",setup(e){const a=(0,U.iH)(!1),l=(0,U.iH)(!0);function t(){}return{props:e,modal:a,maximizedToggle:l,showModal:t}}});var ee=l(10151),ae=l(25589),le=l(7518),te=l.n(le);$.render=G,$.__scopeId="data-v-2f5fe920";const re=$;te()($,"components",{QCard:ee.Z,QCardSection:ae.Z});l(93422);var oe=l(43653),ie=(l(88603),l(74798)),ue=l.n(ie),se=l(93617),ne=(l(12841),l(48825));function de(e,a,l,r,o,i){const u=(0,t.up)("DoughnutChart",!0);return(0,t.wg)(),(0,t.iD)("div",null,[e.isDataLoaded?((0,t.wg)(),(0,t.j4)(u,{key:0,ref:"doughnutRef","chart-data":e.dataFromParent,options:e.options},null,8,["chart-data","options"])):(0,t.kq)("",!0)])}var ce=l(58867),ve=l(69319);oe.Chart.register(oe.DoughnutController,oe.ArcElement),oe.Chart.register(ve.Z);const me=(0,t.aZ)({name:"DoughnutChartView",components:{DoughnutChart:ce.DoughnutChart},props:{labels:{type:Array},chartData:{type:Array},label:{type:String}},setup(e){const a=(0,U.iH)(null),l=(0,U.Fl)((()=>({labels:e.labels,datasets:[{data:e.chartData,label:e.label,backgroundColor:["green","#DFFF00","#CCCC00","orange","red","#97B0C4"]}]}))),r=(0,U.Fl)((()=>e.chartData&&0!==e.chartData.length)),o=(0,U.iH)({plugins:{datalabels:{formatter:(a,l)=>{e.chartData;let t=a.toFixed(2)+"%";return t},color:"black"},legend:{position:"bottom"},title:{display:!0,text:e.label}}});return(0,t.YP)(e.chartData,((e,a)=>{})),(0,t.bv)((async()=>{})),{dataFromParent:l,options:o,props:e,doughnutRef:a,isDataLoaded:r}}});me.render=de;const pe=me;function he(e,a,l,r,o,i){const u=(0,t.up)("BarChart",!0);return(0,t.wg)(),(0,t.j4)(u,{ref:"barRef","chart-data":e.data,options:e.options},null,8,["chart-data","options"])}oe.Chart.register(oe.BarController,oe.CategoryScale,oe.LinearScale,oe.BarElement);const we=(0,t.aZ)({name:"BarChartView",components:{BarChart:ce.BarChart},props:{labels:{type:Array},chartData:{type:Array},label:{type:String}},setup(e){const a=(0,U.iH)(null),l=((0,U.iH)([]),["#29A0B1","red","yellow","purple","orange","light blue","brown","#ECB390","pink","dark green","gray","green"]),t=(0,U.Fl)((()=>({labels:e.labels,datasets:[{label:"Month",data:e.chartData,backgroundColor:l[0]}]}))),r=(0,U.iH)({plugins:{datalabels:{color:"black"},legend:{position:"bottom",display:!1},title:{display:!0,text:e.label},responsive:!0,maintainAspectRatio:!1}});return{data:t,options:r,props:e,barRef:a}}});we.render=he;const ge=we;function fe(e,a,l,r,o,i){const u=(0,t.up)("LineChart",!0);return(0,t.wg)(),(0,t.j4)(u,{ref:"lineRef","chart-data":e.data,options:e.options},null,8,["chart-data","options"])}oe.Chart.register(oe.LineController,oe.CategoryScale,oe.LinearScale,oe.LineElement);const be=(0,t.aZ)({name:"LineChartView",components:{LineChart:ce.LineChart},props:{labels:{type:Array},chartData:{type:Array},label:{type:String},labelkeys:{type:Array}},setup(e){const a=(0,U.iH)(null),l=(0,U.Fl)((()=>{let a=[];for(let l=0;l<e.chartData.length;l++){let r={label:e.labelkeys[l],data:e.chartData[l],borderColor:t[l]};a.push(r)}return a})),t=["blue","red","yellow","purple","orange","light blue","brown","#ECB390","pink","dark green","gray","green","red-orange"],r=(0,U.Fl)((()=>{let a={};return a["labels"]=e.labels,a["datasets"]=l.value,a})),o=(0,U.iH)({plugins:{datalabels:{color:"white"},legend:{position:"bottom",display:!0},title:{display:!0,text:e.label},responsive:!0,maintainAspectRatio:!1}});return{dataSetVal:l,data:r,options:o,props:e,lineRef:a}}});be.render=fe;const ye=be;oe.Chart.register(...oe.registerables);const De={name:"Dashboard",components:{CardDashboardFeedbackCount:re,DoughnutChart:pe,BarChart:ge,LineChart:ye},setup(){(0,U.iH)([30,40,60,70,5]);const e=(0,U.iH)(0),a=(0,U.iH)(0),l=(0,U.iH)(0),r=(0,U.iH)(0),o=(0,U.iH)([]),i=(0,U.iH)([]),u=(0,U.iH)(0),s=(0,U.iH)(null),n=(0,U.iH)((new Date).getFullYear()),d=(0,ne.Z)(),c=(0,U.iH)({sortBy:"desc",descending:!1,page:1,rowsPerPage:10,rowsNumber:5,mode:0}),v=(0,U.iH)("Annual");(0,t.YP)(v,((e,a)=>{V.value=null,O.value=null,A.value=null,m.value=null,p.value=null}));const m=(0,U.iH)(null),p=(0,U.iH)(null),h=(0,U.iH)([]),w=(0,U.iH)([]),g=(0,U.iH)([]),f=(0,U.iH)([]),b=(0,U.iH)([]),y=(0,U.iH)([]),D=(0,U.iH)([]),k=(0,U.iH)([]),C=(0,U.iH)("");let _=(0,U.iH)([]);const S=(0,U.iH)(null),P=(0,U.iH)([]),W=(0,U.iH)([]),x=(0,U.iH)([]),H=(0,U.iH)([]),q=(0,U.iH)([]),F=(0,U.iH)([]),T=(0,U.iH)([]),V=(0,U.iH)(),O=(0,U.iH)(),A=(0,U.iH)(),E=(0,U.iH)([]),M=(0,se.oR)(),R=((0,U.Fl)((()=>M.getters["auth/getUserProfile"])),(0,U.iH)([])),N=(0,U.iH)([]),Y=(0,U.iH)(!1);let z;const Q=(0,U.iH)(!0),j=(0,U.iH)(!1),B=(0,U.Fl)((()=>{let e=2e3,a=[],l=n.value;while(l>=e)a.push(l),l-=1;return a})),L=[1,2,3,4],K=(0,U.iH)(["Annual","Quarterly","Date Range"]);function J(){d.loading.show({message:"Please wait for data to be loaded..",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}async function X(){let e=[],a=[],l=[];(h.value.length>0||w.value.length>0||y.value.length>0)&&(h.value=[],w.value=[],y.value=[]),H.value.forEach((a=>{h.value.push(a.servicearea),e.push(a.countOverall)}));let t=[];q.value.forEach((e=>{0==t.length&&(t=Object.keys(e)),w.value.push(e.month),a.push(e.total)})),"Date Range"==v.value?(t.pop(),t.pop(),t.pop()):(t.shift(),t.shift(),t.shift()),t.forEach((e=>{let a=q.value.map((a=>a[e]));l.push(a),y.value.push(e)})),g.value=e,f.value=a,b.value=l}async function I(t){r.value=t?await(0,Z.bO)(t):await(0,Z.bO)(""),e.value=await(0,Z.lX)(t),a.value=await(0,Z.wi)(t),l.value=await(0,Z.jW)(t)}async function G(l,t){r.value=await(0,Z.d$)(l,t,""),e.value=await(0,Z.pm)("","",l,t),a.value=await(0,Z.kD)("","",l,t)}async function $(){H.value=[],q.value=[],N.value=[],i.value=[],R.value=[];let e=0;if(le(),ae(),o.value=[],V.value){let a=new Date(V.value,0,1),l=new Date(V.value,11,31),t=await(0,Z.Dv)(a,l);q.value.forEach((e=>{let a=0;t.forEach((l=>{let t=l.monthYear.toString().split("-")[1];e.id==t&&(e[l.keyDiv]=l.countDiv,a+=l.countDiv)})),e.total=a}));let r=await(0,Z.o6)(a,l),o=await(0,Z.Fp)(a,l);H.value.forEach((a=>{r.forEach((e=>{a.id==e.value.toString()&&(a[e.keyDiv]=e.resultPercent.toString()+"%")})),o.forEach((l=>{a.id==l.value2.toString()&&(e+=l.resultPercent,a["percentage"]=l.resultPercent.toString()+"%",a["countOverall"]=parseFloat(l.resultPercent))}))}))}else if(O.value){let a,l;switch(O.value){case 1:l=new Date(A.value,0,1),a=new Date(A.value,2,31);break;case 2:l=new Date(A.value,3,1),a=new Date(A.value,5,30);break;case 3:l=new Date(A.value,6,1),a=new Date(A.value,8,30);break;case 4:l=new Date(A.value,9,1),a=new Date(A.value,11,31);break;default:}let t=await(0,Z.Dv)(l,a);q.value.forEach((e=>{let a=0;t.forEach((l=>{let t=l.monthYear.toString().split("-")[1];e.id==t&&(e[l.keyDiv]=l.countDiv,a+=l.countDiv)})),e.total=a}));let r=await(0,Z.o6)(l,a),o=await(0,Z.Fp)(l,a);H.value.forEach((a=>{r.forEach((e=>{a.id==e.value.toString()&&(a[e.keyDiv]=e.resultPercent.toString()+"%")})),o.forEach((l=>{a.id==l.value2.toString()&&(e+=l.resultPercent,a["percentage"]=l.resultPercent.toString()+"%",a["countOverall"]=parseFloat(l.resultPercent))}))}))}else if(m.value&&p.value){let a=await(0,Z.Dv)(m.value,p.value);q.value.forEach((e=>{let l=0;a.forEach((a=>{let t=a.monthYear.toString().split("-")[1];e.id==t&&(e[a.keyDiv]=a.countDiv,l+=a.countDiv)})),e.total=l}));let l=await(0,Z.o6)(m.value,p.value),t=await(0,Z.Fp)(m.value,p.value);H.value.forEach((a=>{l.forEach((e=>{a.id==e.value.toString()&&(a[e.keyDiv]=e.resultPercent.toString()+"%")})),t.forEach((l=>{a.id==l.value2.toString()&&(e+=l.resultPercent,a["percentage"]=l.resultPercent.toString()+"%",a["countOverall"]=parseFloat(l.resultPercent))}))}))}else{let a=await(0,Z.Dv)("","");q.value.forEach((e=>{let l=0;a.forEach((a=>{let t=a.monthYear.toString().split("-")[1];e.id==t&&(e[a.keyDiv]=a.countDiv,l+=a.countDiv)})),e.total=l}));let l=await(0,Z.o6)("",""),t=await(0,Z.Fp)("","");H.value.forEach((a=>{l.forEach((e=>{a.id==e.value.toString()&&(a[e.keyDiv]=e.resultPercent.toString()+"%")})),t.forEach((l=>{a.id==l.value2.toString()&&(e+=l.resultPercent,a["percentage"]=l.resultPercent.toString()+"%",a["countOverall"]=parseFloat(l.resultPercent))}))}))}let a=0;W.value.forEach((e=>{let l=e.keyname,t=q.value.map((e=>(isNaN(e[l])&&(e[l]=0),e[l]))),r=t.reduce(((e,a)=>e+a),0),o={};o["value"]=r,a+=r,N.value.push(o)}));let l={};l["value"]=a,N.value.push(l);let t={};t["value"]=e.toFixed(2).toString()+"%",R.value.push(t),W.value.forEach((e=>{let a={},l=e.keyname,t=H.value.map((e=>e[l])),r=t.reduce(((e,a)=>parseFloat(e)+parseFloat(a)),0);r=Math.round(r),a["value"]=r.toFixed(2).toString()+"%",R.value.push(a)})),z=void 0,d.loading.hide(),X()}function ee(){te(),ae(),u.value=r.value-i.value.length}function ae(){H.value.push({servicearea:"5 - Outstanding",id:5,countOverall:0}),H.value.push({servicearea:"4 - Very Satisfactory",id:4,countOverall:0}),H.value.push({servicearea:"3 - Satisfactory",id:3,countOverall:0}),H.value.push({servicearea:"2 - Fair",id:2,countOverall:0}),H.value.push({servicearea:"1 - Poor",id:1,countOverall:0}),H.value.forEach((e=>{W.value.forEach((a=>{let l=a.keyname;e[l]="0%",e["percentage"]="0%"}))}))}async function le(){q.value.push({month:"January",id:1,total:0}),q.value.push({month:"February",id:2,total:0}),q.value.push({month:"March",id:3,total:0}),q.value.push({month:"April",id:4,total:0}),q.value.push({month:"May",id:5,total:0}),q.value.push({month:"June",id:6,total:0}),q.value.push({month:"July",id:7,total:0}),q.value.push({month:"August",id:8,total:0}),q.value.push({month:"September",id:9,total:0}),q.value.push({month:"October",id:10,total:0}),q.value.push({month:"November",id:11,total:0}),q.value.push({month:"December",id:12,total:0})}async function te(){F.value.push({name:"Service Area",align:"left",label:"Service Area/Rating",field:"servicearea",sortable:!0}),F.value.push({name:"Percentage (Overall)",align:"center",label:"Percentage",field:"percentage",sortable:!0}),T.value.push({name:"Month",align:"left",label:"Month",field:"month",sortable:!0}),W.value.forEach((e=>{let a=e.keyname,l={name:e.service,align:"center",label:e.service,field:a,sortable:!0};F.value.push(l),T.value.push(l)})),T.value.push({name:"Total",align:"center",label:"Total",field:"total",sortable:!0})}async function oe(e){c.value={sortBy:"desc",descending:!1,page:1,rowsPerPage:10,rowsNumber:5,mode:e},0==k.value.length&&(k.value.push({name:"tsrNo",align:"left",label:"TSR Number",field:"tsrNo"}),k.value.push({name:"division",align:"left",label:"Division",field:"division"}),k.value.push({name:"service",align:"left",label:"Service",field:"service"}),k.value.push({name:"question",align:"left",label:"Question",field:"question"}),k.value.push({name:"value",align:"left",label:"Value",field:"value"}),k.value.push({name:"date",align:"left",label:"Submitted Date",field:"submittedAt"}),k.value.push({name:"remarks",align:"left",label:"Remarks",field:"remarks"})),await de({pagination:c.value,filter:void 0}),j.value=!0}async function ie(e,a,l,t,r,o){let i=[];if(l)i=await(0,Z.jR)(l,o,e,a);else if(V.value)1==o?(i=await(0,Z.WZ)(e,a,V.value),C.value="Negative Feedback "+V.value.toString()):(i=await(0,Z.XP)(e,a,V.value),C.value="Positive Feedback "+V.value.toString());else if(O.value)1==o?(i=await(0,Z.wy)(e,a,m.value,p.value),C.value="Negative Feedback Quarter:"+O.value+" ,"+m.value.getFullYear().toString()):(i=await(0,Z.Kv)(e,a,m.value,p.value),C.value="Positive Feedback Quarter:"+O.value+" ,"+m.value.getFullYear().toString());else if(m.value&&p.value)1==o?(i=await(0,Z.wy)(e,a,m.value,p.value),C.value="Negative Feedback "+m.value+" - "+p.value):(i=await(0,Z.Kv)(e,a,m.value,p.value),C.value="Positive Feedback "+m.value+" - "+p.value);else{let l=(new Date).getFullYear();1==o?(i=await(0,Z.WZ)(e,a,l),C.value="Negative Feedback "+l.toString()):(i=await(0,Z.XP)(e,a,l),C.value="Positive Feedback "+l.toString())}return i}async function de(l){console.log("props",l);const{page:t,rowsPerPage:r,sortBy:o,descending:i,mode:u}=l.pagination,s=l.filter;let n;if(V.value?(e.value=await(0,Z.lX)(V.value),a.value=await(0,Z.wi)(V.value)):(O.value||m.value||p.value)&&(e.value=await(0,Z.pm)("","",m.value,p.value),a.value=await(0,Z.kD)("","",m.value,p.value)),n=1==u?e.value:a.value,s){let e=await(0,Z.V4)(s,u);c.value.rowsNumber=e;const a=0===r?e:r,l=(t-1)*r,n=await ie(l,a,s,o,i,u);_.value.splice(0,_.value.length,...n),_.value=_.value.map((e=>({value:e.value,tsrNo:e.tsrNo,division:e.division,service:e.service,submittedAt:ue()(e.submittedAt).format("YYYY-MM-DD"),question:e.question,remarks:e.remarks})))}else{const e=(t-1)*r;c.value.rowsNumber=n;const a=0===r?n:r,l=await ie(e,a,s,o,i,u);_.value.splice(0,_.value.length,...l),_.value=_.value.map((e=>({value:e.value,tsrNo:e.tsr.tsrNo,division:e.tsr.division,service:e.tsr.service,submittedAt:ue()(e.tsr.submittedAt).format("YYYY-MM-DD"),question:e.question.description})))}c.value.page=t,c.value.rowsPerPage=r,c.value.sortBy=o,c.value.descending=i,c.value.mode=u}async function ce(){J(),await $(),await G(m.value,p.value),clearTimeout(z),d.loading.hide()}return(0,t.YP)(V,((e,a)=>{V.value&&(J(),$(),I(e))})),(0,t.YP)(O,((e,a)=>{if(O.value){switch(J(),O.value){case 1:m.value=new Date("01/01/"+A.value),p.value=new Date("03/31/"+A.value);break;case 2:m.value=new Date("04/01/"+A.value),p.value=new Date("06/30/"+A.value);break;case 3:m.value=new Date("07/01/"+A.value),p.value=new Date("09/30/"+A.value);break;case 4:m.value=new Date("10/01/"+A.value),p.value=new Date("12/31/"+A.value);break;default:}$(),G(m.value,p.value)}})),(0,t.Jd)((()=>{void 0!==z&&(clearTimeout(z),d.loading.hide())})),(0,t.bv)((async()=>{J(),W.value=await(0,Z.nh)(),P.value=await(0,Z.P_)(),I(n.value),await ee(),await $()})),{totalNegative:e,totalPositive:a,totalNoFeedback:l,totalTsrs:r,CardDashboardFeedbackCount:re,columns:E,divisions:P,divisionsAndSections:W,services:x,rowsOverallPerformance:H,rowsnumberOfCustomers:q,colsOverallPerformance:F,colsnumberOfCustomers:T,totalActualRespondents:N,totalPerField:R,yearOptions:B,yearTsr:V,updateTables:$,beforeDate:m,afterDate:p,chartDataModelData:g,chartDataModelLabel:h,chartDataModelCustomersLabel:w,chartDataModelCustomersData:f,chartDataModelNumberPerServiceArea:b,lineChartLabel:y,showTextCard:Y,cardDataCols:k,mode:s,filter:S,cardData:D,callCardData:oe,maximizedToggle:Q,cardModal:j,cardTitle:C,pagination:c,onRequestCard:de,rows:_,currentYear:n,modeOptions:K,modeDashboard:v,yearTsrQuarter:A,quarterOptions:L,quarterTSR:O,submitDate:ce}}};var ke=l(63314),Ce=l(68689),_e=l(64689),Se=l(24554),Pe=l(83944),We=l(85836),xe=l(2165),He=l(17132),qe=l(18186),Fe=l(92414),Te=l(83884),Ve=l(46778),Oe=l(5363),Ae=l(99367),Ee=l(60677);De.render=Q;const Me=De;te()(De,"components",{QSelect:ke.Z,QForm:Ce.Z,QInput:_e.Z,QIcon:Se.Z,QPopupProxy:Pe.Z,QDate:We.Z,QBtn:xe.Z,QCard:ee.Z,QCardSection:ae.Z,QTable:He.Z,QTr:qe.Z,QTh:Fe.Z,QTd:Te.Z,QDialog:Ve.Z,QTooltip:Oe.Z,QCardActions:Ae.Z}),te()(De,"directives",{ClosePopup:Ee.Z})}}]);