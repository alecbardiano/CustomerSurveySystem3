"use strict";(self["webpackChunkcustomersurveysystem3"]=self["webpackChunkcustomersurveysystem3"]||[]).push([[47],{89047:(e,a,t)=>{t.r(a),t.d(a,{default:()=>H});var s=t(83673),o=t(744),l=t.n(o);const n=(0,s.Uk)(" Â© 2021 CSMS, MIRDC-PMD "),i=(0,s._)("img",{style:{height:"60px",width:"60px"},src:l()},null,-1),r=(0,s.Uk)("Sign in"),u=(0,s.Uk)(" CSMS "),d=(0,s.Uk)("Login");function m(e,a,t,o,l,m){const c=(0,s.up)("q-toolbar-title"),p=(0,s.up)("q-toolbar"),w=(0,s.up)("q-footer"),f=(0,s.up)("q-item-section"),g=(0,s.up)("q-item-label"),b=(0,s.up)("q-item"),y=(0,s.up)("q-icon"),h=(0,s.up)("q-input"),q=(0,s.up)("q-card-section"),v=(0,s.up)("q-btn"),W=(0,s.up)("q-form"),_=(0,s.up)("q-card"),S=(0,s.up)("q-page"),Z=(0,s.up)("q-page-container"),C=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(C,{class:"bg-grey-2",view:"hHh lpR fFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"toolbar"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-body1 text-center"},{default:(0,s.w5)((()=>[n])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"flex flex-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{bordered:"",class:"my-login no-shadow q-pa-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{onSubmit:e.onSubmit,class:"q-gutter-md",ref:"loginRefForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"q-mt-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{avatar:""},{default:(0,s.w5)((()=>[i])),_:1}),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"text-h5"},{default:(0,s.w5)((()=>[r])),_:1}),(0,s.Wm)(g,{class:"text-body1"},{default:(0,s.w5)((()=>[u])),_:1})])),_:1})])),_:1}),(0,s.Wm)(q,{class:"q-mt-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{ref:"username",class:"q-mb-sm",modelValue:e.usernameModel,"onUpdate:modelValue":a[0]||(a[0]=a=>e.usernameModel=a),label:"Username",rules:[e=>!!e||"Username is required"]},{prepend:(0,s.w5)((()=>[(0,s.Wm)(y,{name:"person"})])),_:1},8,["modelValue","rules"]),(0,s.Wm)(h,{ref:"password",class:"q-mb-sm",type:e.isPwd?"password":"text",modelValue:e.passwordModel,"onUpdate:modelValue":a[2]||(a[2]=a=>e.passwordModel=a),label:"Password",rules:[e=>!!e||"Password is required"]},(0,s.Nv)({prepend:(0,s.w5)((()=>[(0,s.Wm)(y,{name:"lock"})])),_:2},[e.passwordModel&&e.passwordModel.length>0?{name:"append",fn:(0,s.w5)((()=>[(0,s.Wm)(y,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=a=>e.isPwd=!e.isPwd)},null,8,["name"])]))}:void 0]),1032,["type","modelValue","rules"])])),_:1}),(0,s.Wm)(q,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{loading:e.isLoading,onClick:e.onSubmit,color:"primary"},{default:(0,s.w5)((()=>[d])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var c=t(61959),p=t(79582),w=t(93617),f=t(48825);const g=(0,s.aZ)({name:"Login",setup(){(0,c.iH)([30,40,60,70,5]);const e=(0,c.iH)(""),a=(0,c.iH)(""),t=(0,c.iH)(!1),s=(0,c.iH)(!0),o=(0,c.iH)(null),l=(0,w.oR)(),n=(0,f.Z)(),i=(0,p.tv)(),r=(0,c.Fl)((()=>({enter:{keydown:this.login}}))),u=(0,c.Fl)((()=>l.getters["auth/getLoginApiStatus"]));async function d(e){await l.dispatch("auth/loginApi",e)}function m(){t.value=!0,o.value.validate().then((async e=>{e&&await g(),t.value=!1}))}async function g(){const t={identifier:e.value,password:a.value};await d(t),"success"==u.value?i.push({name:"Dashboard"}):"usernotaccess"==u.value?n.notify({color:"red-5",textColor:"white",icon:"warning",message:"user does not have access to CSMS system"}):n.notify({color:"red-5",textColor:"white",icon:"warning",message:"username and password does not match"})}return{usernameModel:e,passwordModel:a,isLoading:t,isPwd:s,keymap:r,loginToSSOClient:g,onSubmit:m,loginRefForm:o}}});var b=t(83066),y=t(41762),h=t(39570),q=t(13747),v=t(72652),W=t(24379),_=t(10151),S=t(68689),Z=t(83414),C=t(52035),Q=t(2350),k=t(25589),M=t(64689),x=t(24554),P=t(2165),U=t(7518),F=t.n(U);g.render=m;const H=g;F()(g,"components",{QLayout:b.Z,QFooter:y.Z,QToolbar:h.Z,QToolbarTitle:q.Z,QPageContainer:v.Z,QPage:W.Z,QCard:_.Z,QForm:S.Z,QItem:Z.Z,QItemSection:C.Z,QItemLabel:Q.Z,QCardSection:k.Z,QInput:M.Z,QIcon:x.Z,QBtn:P.Z})}}]);