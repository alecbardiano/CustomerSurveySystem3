(self["webpackChunkcustomersurveysystem3"]=self["webpackChunkcustomersurveysystem3"]||[]).push([[64],{26873:(t,e,s)=>{"use strict";s.d(e,{gF:()=>c,Kv:()=>W,wy:()=>H,wi:()=>Q,XP:()=>U,kD:()=>L,pm:()=>B,lX:()=>J,WZ:()=>K,go:()=>X,jW:()=>$,bO:()=>G,d$:()=>tt,sD:()=>et,kJ:()=>st,tI:()=>nt,ld:()=>rt,MF:()=>it,iv:()=>at,ZS:()=>ot,$O:()=>ut,Ds:()=>lt,Lk:()=>ct,HL:()=>dt,nh:()=>ft,P_:()=>mt,z3:()=>gt,jH:()=>vt,jR:()=>pt,V4:()=>ht,uC:()=>bt,hQ:()=>_t,mk:()=>Yt,wp:()=>jt,LE:()=>Dt,TB:()=>wt,Dv:()=>At,o6:()=>yt,Fp:()=>Mt});s(10071);var n=s(5474),r=s(11488),i=s.n(r),a=(s(88603),s(44259));let o=new Date,u=i()().year(),l=o;const c=async t=>await n.api.get("tsrs/getTsrSystems/"+t).then((function(t){return t.data})),d=function(){return n.api.get("/questions/withoutAns").then((function(t){return t.data}))},f=function(){return n.api.get("/questions").then((function(t){return t.data}))},m=function(t,e){let s,r=new Date(e,t);12==t?(t=0,s=new Date(e+1,t)):s=new Date(e,t+1);let a=i()(r).format("YYYY-MM-DD"),o=i()(s).format("YYYY-MM-DD");return n.api.get("/tsrs?&_limit=-1&submittedAt_gte="+a+"&submittedAt_lt="+o+"&_sort=division:ASC,service:ASC,submittedAt:DESC").then((function(t){return t.data}))},g=function(t,e,s,r,a,o,l,c){let d=i()(a).format("YYYY-MM-DD"),f=i()(o).format("YYYY-MM-DD");return 2==l?n.api.get("/tsrs?&_limit=-1&submittedAt_gte="+u+"-01-01&submittedAt_lte="+u+"-12-31&_sort=division,service,submittedAt:DESC").then((function(t){return t.data})):3==l?a&&o?n.api.get("/tsrs?&_limit=-1&submittedAt_gt="+d+"&submittedAt_lte="+f+"&division="+s+"&service="+r+"&_sort=division,service,submittedAt:DESC").then((function(t){return t.data})):n.api.get("/tsrs?&_limit=-1&submittedAt_gte="+u+"-01-01&submittedAt_lte="+u+"-12-31"+s+"&service="+r+"&_sort=division,service,submittedAt:DESC&division=").then((function(t){return t.data})):4==l?a&&o?n.api.get("/tsrs?_start="+t+"&_limit="+e+"&submittedAt_gt="+d+"&submittedAt_lte="+f+"&division="+s+"&service="+r+"&_sort=division,service,submittedAt:DESC").then((function(t){return t.data})):n.api.get("/tsrs?_start="+t+"&_limit="+e+"&submittedAt_gte="+u+"-01-01&submittedAt_lte="+u+"-12-31&division="+s+"&service="+r+"&_sort=division,service,submittedAt:DESC&division=").then((function(t){return t.data})):a&&o?""!=c?n.api.get("/tsrs?tsrNo_contains="+c+"&_start="+t+"&_limit="+e+"&submittedAt_gte="+d+"&submittedAt_lte="+f+"&_sort=division:ASC,service:ASC,submittedAt:DESC").then((function(t){return t.data})):n.api.get("/tsrs?_start="+t+"&_limit="+e+"&submittedAt_gte="+d+"&submittedAt_lte="+f+"&_sort=division:ASC,service:ASC,submittedAt:DESC").then((function(t){return t.data})):""!=c?n.api.get("/tsrs?tsrNo_contains="+c+"&_start="+t+"&_limit="+e+"&submittedAt_gte="+u+"-01-01&submittedAt_lte="+u+"-12-31&_sort=division:ASC,service:ASC,submittedAt:DESC").then((function(t){return t.data})):n.api.get("/tsrs?_start="+t+"&_limit="+e+"&submittedAt_gte="+u+"-01-01&submittedAt_lte="+u+"-12-31&_sort=division:ASC,service:ASC,submittedAt:DESC").then((function(t){return t.data}))},v=function(t,e,s,r){return n.api.get("/answers/searchAnswer/"+t+"/"+e+"/"+s+"/"+r).then((function(t){return t.data}))},p=function(t,e){return n.api.get("/answers/searchAnswer/"+t+"/"+e).then((function(t){return t.data}))},h=function(){return n.api.get("/question-types").then((function(t){return t.data}))},b=function(){return n.api.get("/tsrs/countPerDivisions").then((function(t){return t.data}))},_=function(){return n.api.get("/tsrs/divisions").then((function(t){return t.data}))},Y=function(t,e,s,r,a){let o,l;return o=i()(r).format("YYYY-MM-DD"),l=i()(a).format("YYYY-MM-DD"),""!=e?r&&a?(console.log("dito dapat"),n.api.get("/answers/?_limit=-1&tsr.division="+t+"&tsr.service="+e+"&question.id="+s+"&tsr.submittedAt_gte="+o+"&tsr.submittedAt_lte="+l).then((function(t){return t.data}))):n.api.get("/answers/?_limit=-1&tsr.division="+t+"&tsr.service="+e+"&question.id="+s+"&tsr.submittedAt_gte="+u+"-01-01tsr.&submittedAt_lte="+u+"-12-31").then((function(t){return t.data})):r&&a?(console.log("dito dapat"),n.api.get("/answers/?_limit=-1&tsr.division="+t+"&question.id="+s+"&tsr.submittedAt_gte="+o+"&tsr.submittedAt_lte="+l).then((function(t){return t.data}))):n.api.get("/answers/?_limit=-1&tsr.division="+t+"&question.id="+s+"&tsr.submittedAt_gte="+u+"-01-01&tsr.submittedAt_lte="+u+"-12-31").then((function(t){return t.data}))};let j;const D=async function(t,e,s,r,i,o,u,c){let d,f,m,g=200,v=0,p=(0,a.Z)();try{d=u||l;let a={tsrNo:s,industry:r,service:i,division:o,submittedAt:d,uuid:p};if(await n.api.post("/tsrs",a).then((t=>{f=t.data.id,m=t.data})).catch((function(t){console.log(t.response.status),t.response?(console.log(t.response.status),console.log(t.response.headers),j=t.response.status):t.request?console.log(t.request):console.log("Error",t.message)})),j)return j;for(const e of t)if(console.log("tsrsrsts",f),""!=e.question){let t={tsr:f,question:e.question,value:e.value,tsr_q_id:f+"_"+e.question,tsrNo:s};if(0===t.value)val="";else{let e=parseInt(t.value);e<=2&&(v=1)}await n.api.post("/answers",t)}for(const t of e){console.log("tsrsrsts",f);let e={tsr:f,question:t.question,value:t.value,tsr_q_id:f+"_"+t.question,tsrNo:s,remarks:t.remarks},r=parseInt(e.value);r<=2&&(v=1),await n.api.post("/answers",e)}return 1==v&&await w(m,c),g}catch(h){console.log(h)}},w=async function(t,e){let s=t.tsrNo,r=t.uuid,i=(t.division,{headers:{Accept:"application/json","Content-Type":"application/json"}}),a={from:"ithelpdesk@mirdc.dost.gov.ph",to:"bardiano.work@gmail.com",subject:s+" - Negative Feedback",system:"Customer Survey Management System",html:{firstName:"Sir/Ma'am",message:"Customer Survey Management System is requesting you to review the tsrNo:"+s+" because it received a negative feedback, please provide a resolution on the provided link",url:{text:"Access Resolution Form",link:n.csmsURL+"#/feedback/ResolutionFromFeedback/"+r},message2:"For remote access or work from home (WFH) setup, please connect to Virtual Private Network (VPN) using your username and password provided by the MIS unit. After a successful connection to the VPN, click on the button above.",message3:"If you do not have a VPN account, please request thru Ms. Mercedita G. Abutal, Chief PMD and ISMR at email: mgabutal@mirdc.dost.gov.ph."}};const o=await n.mailapi.post("sendMail",a,i).then((t=>t.data)).catch((t=>{console.error("There was an error!",t)}));console.log("rawResponse",o)},A=async function(t){console.log("answers",t);let e={headers:{Accept:"application/json","Content-Type":"application/json"}};t.forEach((async t=>{await n.api.put("/answers/"+t.ansID,t,e).then((t=>200)).catch((t=>(this.errorMessage=t.message,console.error("There was an error!",t),t)))}))},y=async function(t){await n.api.post("/questions",t).then((t=>{console.log("resresrespostques",t)})).catch((t=>{this.errorMessage=t.message,console.error("There was an error!",t)}))},M=async function(t,e){console.log("question",e),await n.api.put("/questions/"+t,e).then((t=>{console.log(t)}))},k=async function(t){let e=await n.api.get("/answers/").then((function(t){return t.data}));console.log("answers",e),e.forEach((function(e){var s=e.id;console.log("todelelelele",s),console.log("arrayarray",e),e.question.id==t&&n.api["delete"]("/answers/"+s).then((t=>{console.log("successfully deleted: ",s)}))})),n.api["delete"]("/questions/"+t).then((t=>{console.log("deleted question",t)})).catch((t=>{console.error("There was an error!",t)})),console.log(t)},q=function(t){return n.api.get("/answers/count?value_gte=3&question.question_type=2&tsr.submittedAt_gte="+t+"-01-01&tsr.submittedAt_lte="+t+"-12-31",{}).then((function(t){return t.data}))},S=function(t,e,s,r){let a=i()(s).format("YYYY-MM-DD"),o=i()(r).format("YYYY-MM-DD");return t&&e?n.api.get("/answers/count?_start="+t+"&_limit="+e+"&value_gte=3&question.question_type=2&tsr.submittedAt_gte="+a+"&tsr.submittedAt_lte="+o,{}).then((function(t){return t.data})):n.api.get("/answers/count?value_gte=3&question.question_type=2&tsr.submittedAt_gte="+a+"&tsr.submittedAt_lte="+o,{}).then((function(t){return t.data}))},V=function(t,e,s){return n.api.get("/answers/?_start="+t+"&_limit="+e+"&value_gte=3&question.question_type=2&tsr.submittedAt_gte="+s+"-01-01&tsr.submittedAt_lte="+s+"-12-31",{}).then((function(t){return t.data}))},C=function(t){return n.api.get("/answers/count?value_lte=2&value_gt=0&value_gt=0&question.question_type=2&tsr.submittedAt_gte="+t+"-01-01&tsr.submittedAt_lte="+t+"-12-31",{}).then((function(t){return t.data}))},N=function(t,e,s,r){let a=i()(s).format("YYYY-MM-DD"),o=i()(r).format("YYYY-MM-DD");return n.api.get("/answers/count?value_lte=2&value_gt=0&tsr.submittedAt_gte="+a+"&tsr.submittedAt_lte="+o,{}).then((function(t){return t.data}))},F=function(t,e,s){return n.api.get("/answers/?_start="+t+"&_limit="+e+"&value_lte=2&value_gt=0&question.question_type=2&tsr.submittedAt_gte="+s+"-01-01&tsr.submittedAt_lte="+s+"-12-31",{}).then((function(t){return t.data}))},z=function(t,e,s,r){let a=i()(s).format("YYYY-MM-DD"),o=i()(r).format("YYYY-MM-DD");return n.api.get("/answers/?_start="+t+"&_limit="+e+"&value_lte=2&value_gt=0&value_gt=0&question.question_type=2&tsr.submittedAt_gte="+a+"&tsr.submittedAt_lte="+o,{}).then((function(t){return t.data}))},E=function(t,e,s,r){let a=i()(s).format("YYYY-MM-DD"),o=i()(r).format("YYYY-MM-DD");return n.api.get("/answers/?_start="+t+"&_limit="+e+"&value_gte=3&question.question_type=2&tsr.submittedAt_gte="+a+"&tsr.submittedAt_lte="+o,{}).then((function(t){return t.data}))},x=function(t,e,s,r,a,o){let u=i()(a).format("YYYY-MM-DD"),l=i()(o).format("YYYY-MM-DD");return n.api.get("/answers/?_start="+t+"&_limit="+e+"&tsr.division_contains="+s+"&tsr.service_contains="+r+"&value_lte=2&value_gt=0&question.question_type=2&tsr.submittedAt_gte="+u+"&tsr.submittedAt_lte="+l+"&_sort=tsr.submittedAt:DESC",{}).then((function(t){return t.data}))},O=function(t){return n.api.get("/answers/count?value=&question.question_type=2&tsr.submittedAt_gte="+t+"-01-01&tsr.submittedAt_lte="+t+"-12-31",{}).then((function(t){return t.data}))},P=function(t,e,s,r){return r?n.api.get("/tsrs/count?&division="+t+"&service="+e+"tsrNo_contains="+r+"&submittedAt_gte="+s+"-01-01&submittedAt_lte="+s+"-12-31",{}).then((function(t){return t.data})):n.api.get("/tsrs/count?&division="+t+"&service="+e+"submittedAt_gte="+s+"-01-01&submittedAt_lte="+s+"-12-31",{}).then((function(t){return t.data}))},T=function(t,e){return e?n.api.get("/tsrs/count?tsrNo_contains="+e+"&submittedAt_gte="+t+"-01-01&submittedAt_lte="+t+"-12-31",{}).then((function(t){return t.data})):n.api.get("/tsrs/count?submittedAt_gte="+t+"-01-01&submittedAt_lte="+t+"-12-31",{}).then((function(t){return t.data}))},R=function(t,e,s){let r=i()(t).format("YYYY-MM-DD"),a=i()(e).format("YYYY-MM-DD");return t&&e?s?n.api.get("/tsrs/count?tsrNo_contains="+s+"&submittedAt_gte="+r+"&submittedAt_lte="+a,{}).then((function(t){return t.data})):n.api.get("/tsrs/count?&submittedAt_gte="+r+"&submittedAt_lte="+a,{}).then((function(t){return t.data})):n.api.get("/tsrs/count",{}).then((function(t){return t.data}))},I=function(t,e,s,r,a){let o=i()(s).format("YYYY-MM-DD"),u=i()(r).format("YYYY-MM-DD");return s&&r?a?n.api.get("/tsrs/count?&division="+t+"&service="+e+"&tsrNo_contains="+a+"&submittedAt_gte="+o+"&submittedAt_lte="+u,{}).then((function(t){return t.data})):n.api.get("/tsrs/count?&division="+t+"&service="+e+"&submittedAt_gte="+o+"&submittedAt_lte="+u,{}).then((function(t){return t.data})):n.api.get("/tsrs/count",{}).then((function(t){return t.data}))},Z=function(t,e){let s,r=new Date(e,t);12==t?(t=0,s=new Date(e+1,t)):s=new Date(e,t+1);let a=i()(r).format("YYYY-MM-DD"),o=i()(s).format("YYYY-MM-DD");if(e)return n.api.get("/answers/?_limit=-1&question.id=12&tsr.submittedAt_gte="+a+"&tsr.submittedAt_lt="+o).then((function(t){return t.data}))},W=(t,e,s,n)=>E(t,e,s,n),H=(t,e,s,n)=>z(t,e,s,n),Q=t=>q(t),U=(t,e,s)=>V(t,e,s),L=(t,e,s,n)=>S(t,e,s,n),B=(t,e,s,n)=>N(t,e,s,n),J=t=>C(t),K=(t,e,s)=>F(t,e,s),X=(t,e,s,n,r,i)=>x(t,e,s,n,r,i),$=t=>O(t),G=(t,e)=>T(t,e),tt=(t,e,s)=>R(t,e,s),et=(t,e,s,n,r)=>I(t,e,s,n,r),st=(t,e,s,n)=>P(t,e,s,n),nt=()=>f(),rt=()=>d(),it=(t,e,s,n,r,i,a,o)=>g(t,e,s,n,r,i,a,o),at=()=>h(),ot=(t,e,s,n,r,i,a,o)=>D(t,e,s,n,r,i,a,o),ut=t=>y(t),lt=(t,e)=>M(t,e),ct=t=>k(t),dt=(t,e,s,n,r)=>Y(t,e,s,n,r),ft=()=>_(),mt=()=>b(),gt=(t,e)=>Z(t,e),vt=(t,e)=>m(t,e),pt=(t,e,s,n)=>v(t,e,s,n),ht=(t,e)=>p(t,e),bt=t=>n.api.get("/answers/?tsr.uuid="+t+'&value_lte=2&value_gt=""').then((function(t){return t.data})),_t=(t,e,s)=>n.api.get("/tsrs/validateSurvey/"+t+"/"+e+"/"+s).then((function(t){return t.data})),Yt=t=>n.api.get("/tsrs/countMaxDiv/"+t).then((function(t){return t.data})),jt=t=>A(t),Dt=t=>(t.value=t.value.toString(),n.api.post("/ratings/",t).then((function(t){return t.data}))),wt=(t,e)=>{console.log("before",t,"after",e);let s={beforeVal:"",afterVal:""};return t&&e?(s.beforeVal=i()(new Date(t),"MM-DD-YYYY"),s.afterVal=i()(new Date(e),"MM-DD-YYYY")):(s.beforeVal=i()(new Date((new Date).getFullYear(),0,1),"MM-DD-YYYY"),s.afterVal=i()(new Date((new Date).getFullYear(),11,31),"MM-DD-YYYY")),console.log("payload",s),n.api.get("/tsrs/findOverallCenter/"+s.beforeVal+"/"+s.afterVal).then((function(t){return t.data}))},At=(t,e)=>{console.log("before",t,"after",e);let s={beforeVal:"",afterVal:""};return t&&e?(s.beforeVal=i()(new Date(t),"MM-DD-YYYY"),s.afterVal=i()(new Date(e),"MM-DD-YYYY")):(s.beforeVal=i()(new Date((new Date).getFullYear(),0,1),"MM-DD-YYYY"),s.afterVal=i()(new Date((new Date).getFullYear(),11,31),"MM-DD-YYYY")),console.log("payload",s),n.api.get("/tsrs/findNumberOfCustomers/"+s.beforeVal+"/"+s.afterVal).then((function(t){return t.data}))},yt=(t,e)=>{console.log("before",t,"after",e);let s={beforeVal:"",afterVal:""};return t&&e?(s.beforeVal=i()(new Date(t),"MM-DD-YYYY"),s.afterVal=i()(new Date(e),"MM-DD-YYYY")):(s.beforeVal=i()(new Date((new Date).getFullYear(),0,1),"MM-DD-YYYY"),s.afterVal=i()(new Date((new Date).getFullYear(),11,31),"MM-DD-YYYY")),console.log("payload",s),n.api.get("/tsrs/findOverallPerformanceCenter/"+s.beforeVal+"/"+s.afterVal).then((function(t){return t.data}))},Mt=(t,e)=>{console.log("before",t,"after",e);let s={beforeVal:"",afterVal:""};return t&&e?(s.beforeVal=i()(new Date(t),"MM-DD-YYYY"),s.afterVal=i()(new Date(e),"MM-DD-YYYY")):(s.beforeVal=i()(new Date((new Date).getFullYear(),0,1),"MM-DD-YYYY"),s.afterVal=i()(new Date((new Date).getFullYear(),11,31),"MM-DD-YYYY")),console.log("payload",s),n.api.get("/tsrs/findOverallPerformanceCenterPercentage/"+s.beforeVal+"/"+s.afterVal).then((function(t){return t.data}))}},93422:(t,e,s)=>{"use strict";s.d(e,{x7:()=>g,_T:()=>v,WH:()=>p,DU:()=>h,v:()=>b,tY:()=>Y});s(10071),s(26873),s(88603);var n=s(11488),r=s.n(n),i=s(24334),a=s.n(i);function o(t,e){return t.map((t=>t[e]))}function u(t){let e=[];return e.push({name:"Service Area",align:"left",label:"Service Area/Rating",field:"servicearea",sortable:!0}),e.push({name:"Percentage (Overall)",align:"center",label:"Percentage",field:"percentage",sortable:!0}),t.forEach((t=>{let s=t.keyname,n={name:t.service,align:"center",label:t.service,field:s,sortable:!0};e.push(n)})),e}function l(t,e){let s=[];s.push({servicearea:"5 - Outstanding",id:5}),s.push({servicearea:"4 - Very Satisfactory",id:4}),s.push({servicearea:"3 - Satisfactory",id:3}),s.push({servicearea:"2 - Fair",id:2}),s.push({servicearea:"1 - Poor",id:1}),s.push({servicearea:"Total",id:6});let n=e.map((({answers:t,service:e,division:s})=>({answers:t,service:e,division:s}))),r=n.map((function(t){let e={tsr:{service:t.service,division:t.division}},s=t.answers.filter((function(t){if(12==t.question)return t}));return e["answer"]={...s[0]},e}));const i={5:0,4:0,3:0,2:0,1:0,6:0};t.forEach((t=>{let e=t.keyname,n=r.filter((e=>{if(e.tsr&&e.tsr.division==t.division&&e.tsr.service==t.service)return e}));const a={5:0,4:0,3:0,2:0,1:0,6:0};for(const s of n){let t=s.answer.value;1==t?(a[1]+=1,i[1]+=1):2==t?(a[2]+=1,i[2]+=1):3==t?(a[3]+=1,i[3]+=1):4==t?(a[4]+=1,i[4]+=1):5==t?(a[5]+=1,i[5]+=1):(a[0]+=1,i[0]+=1)}for(let[r,i]of Object.entries(a))s.forEach((function(t){r==t.id&&(i=i/n.length*100,isNaN(i)&&(i=0),i=i.toFixed(2).toString()+"%",t[e]=i)}))}));let a=0;return s.forEach((t=>{let e=parseFloat(i[t.id])/r.length*100;t["percentage"]=e.toFixed(2).toString()+"%",a+=e})),s[5]["percentage"]=a.toFixed(2).toString()+"%",t.forEach((t=>{let e=t.keyname,n=s.map((t=>t[e])),r=Math.round(n.reduce(((t,e)=>parseFloat(t)+parseFloat(e)),0));s[5][e]=r.toFixed(2).toString()+"%"})),s}function c(t){let e=[];return e.push({name:"Month",align:"left",label:"Month",field:"month",sortable:!0}),t.forEach((t=>{let s=t.keyname,n={name:t.service,align:"center",label:t.service,field:s,sortable:!0};e.push(n)})),e.push({name:"Total",align:"center",label:"Total",field:"total",sortable:!0}),e}function d(t,e,s,n){let i=[],u=s.map((function(t){return parseInt(t,10)})),l=n.map((function(t){return parseInt(t,10)}));e=a()(e,"submittedAt","asc");let c=0;var d=_(e).groupBy((t=>r()(t.submittedAt).format("MMMM-YYYY"))).value();for(var f in d)if(d.hasOwnProperty(f)){let e={},s=0;e["month"]=f;let n=d[f];t.forEach((t=>{let r=t.keyname,i=n.filter((e=>{if(e.tsrNo&&e.division==t.division&&e.service==t.service)return e}));e[r]=i.length?i.length:0,s+=i.length})),e["total"]=Math.round(s).toFixed(2).toString(),c+=s,i.push(e)}let m=[],g=["Total Actual Respondents","Total Actual Number of Customers Served","Target Number of Respondents","Percentage (Actual Number of Respondents vs Target Number of Respondents"];for(let r=0;r<4;r++){let e={},a=0;if(t.forEach((c=>{let d=c.keyname,f=0;if(0===r){let t=o(i,d);f=t.reduce(((t,e)=>t+e),0),m.push(f),e[d]=f}else if(1===r){console.log("actual",n);let s=0;t.forEach((t=>{let r=t.keyname;e[r]=n[s],s+=1})),f=l.reduce(((t,e)=>t+e),0)}else if(2===r){console.log("actual",s);let n=0;t.forEach((t=>{let r=t.keyname;e[r]=s[n],n+=1})),f=u.reduce(((t,e)=>t+e),0)}else if(3===r){console.log("actual",s);let n=0;t.forEach((t=>{let r=t.keyname;0!=m[n]&&0!=s[n]?e[r]=(m[n]/s[n]*100).toFixed(2).toString()+"%":e[r]="0%",n+=1})),f=u.reduce(((t,e)=>t+e),0)}0===r?a+=f:a=f})),e["month"]=g[r],console.log("totalActualRespondentsArr[totalActualRespondentsArr.length-1]",m[m.length-1]),console.log("target[target.length-1]",s[s.length-1]),3===r){let t=m.reduce(((t,e)=>t+e),0),s=u.reduce(((t,e)=>t+e),0);e["total"]=(t/s*100).toFixed(2).toString()+"%"}else e["total"]=a;i.push(e)}return i}function f(t,e,s){let n=[],r=[];return e.forEach((e=>{n.push({division:e.division,service:e.service,servicearea:"5 - Outstanding",id:5}),n.push({division:e.division,service:e.service,servicearea:"4 - Very Satisfactory",id:4}),n.push({division:e.division,service:e.service,servicearea:"3 - Satisfactory",id:3}),n.push({division:e.division,service:e.service,servicearea:"2 - Fair",id:2}),n.push({division:e.division,service:e.service,servicearea:"1 - Poor",id:1}),n.push({division:e.division,service:e.service,servicearea:"No Response",id:0});r=s.filter((t=>t.division==e.division&&t.service==e.service));for(let i=0;i<t.length;i++){const a={5:0,4:0,3:0,2:0,1:0,0:0};if(0!=s.length){r.map((e=>{"undefined"!=typeof e.answers&&e.answers.map((e=>{e.question==t[i].id&&(isNaN(e.value)?a[0]+=1:a[e.value]=a[e.value]?a[e.value]+1:1)}))}));let s=0;for(let[o,u]of Object.entries(a))n.forEach((function(n){n.division==e.division&&n.service==e.service&&o==n.id&&(u=u/r.length*100,isNaN(u)&&(u=0),u=u.toFixed(2).toString()+"%",n[t[i].id]=u,n["countsDivision"]=r.length,n["verysatis"]=s)}))}}})),n}function m(t){let e=[];e.push({name:"serviceArea",align:"left",label:"Service Area/Rating",field:"servicearea",sortable:!0});for(let s=0;s<t.length;s++)if(5!=t[s].question_type){let n={name:"",align:"left",label:"",field:"",sortable:!0};n.name=t[s].description,n.label=t[s].description,n.field=t[s].id,2==t[s].question_type&&e.push(n)}return e}const g=(t,e,s)=>f(t,e,s),v=t=>m(t),p=t=>u(t),h=(t,e)=>l(t,e),b=t=>c(t),Y=(t,e,s,n)=>d(t,e,s,n)},55093:(t,e,s)=>{"use strict";s.d(e,{Z:()=>j});var n=s(83673),r=s(62323);const i=t=>((0,n.dD)("data-v-0542d34e"),t=t(),(0,n.Cn)(),t),a={class:"text-h6 inline"},o={class:"justify-end"},u=i((()=>(0,n._)("tr",null,[(0,n._)("th",null,"Questions"),(0,n._)("th",null,"Answers")],-1))),l={style:{"text-align":"left"}},c={style:{"text-align":"right"}};function d(t,e,s,i,d,f){const m=(0,n.up)("q-card-section"),g=(0,n.up)("q-btn"),v=(0,n.up)("q-card-actions"),p=(0,n.up)("q-card"),h=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Uk)((0,r.zw)(t.props)+" ",1),(0,n.Wm)(p,{style:{"min-width":"500px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"bg-primary text-white"},{default:(0,n.w5)((()=>[(0,n._)("div",a,[(0,n.Uk)(" TSR No. "+(0,r.zw)(t.modelValue.value.tsrNo)+" ",1),(0,n._)("div",o,(0,r.zw)(t.modelValue.value.publishedDate),1)])])),_:1}),(0,n.Wm)(m,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n._)("table",null,[u,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.headerArray,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.field},[(0,n._)("td",l,(0,r.zw)(t.name),1),(0,n._)("td",c,(0,r.zw)(t.value),1)])))),128))])])),_:1}),(0,n.Wm)(v,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(g,{flat:"",label:"Close"},null,512),[[h]])])),_:1})])),_:1})])}var f=s(61959);const m=(0,n.aZ)({props:{modelValue:Object,cols:Array},setup(t){let e=t.cols.map((({align:t,sortable:e,label:s,...n})=>n)),s=(0,f.iH)([]),r=(0,f.iH)({}),i=JSON.parse(JSON.stringify(t.modelValue.value));for(var a in i)for(let t=0;t<e.length;t++)if(a==e[t].field){e[t].value=i[a]}return(0,n.bv)((()=>{console.log("onmounted")})),{headerArray:e,forArraySurveyDetails:s,surveyDetail:r}}});var g=s(10151),v=s(25589),p=s(99367),h=s(2165),b=s(60677),_=s(7518),Y=s.n(_);m.render=d,m.__scopeId="data-v-0542d34e";const j=m;Y()(m,"components",{QCard:g.Z,QCardSection:v.Z,QCardActions:p.Z,QBtn:h.Z}),Y()(m,"directives",{ClosePopup:b.Z})},46700:(t,e,s)=>{var n={"./af":5809,"./af.js":5809,"./ar":46069,"./ar-dz":70481,"./ar-dz.js":70481,"./ar-kw":93994,"./ar-kw.js":93994,"./ar-ly":33312,"./ar-ly.js":33312,"./ar-ma":90239,"./ar-ma.js":90239,"./ar-sa":31863,"./ar-sa.js":31863,"./ar-tn":19607,"./ar-tn.js":19607,"./ar.js":46069,"./az":69281,"./az.js":69281,"./be":29945,"./be.js":29945,"./bg":59384,"./bg.js":59384,"./bm":21476,"./bm.js":21476,"./bn":43345,"./bn-bd":70216,"./bn-bd.js":70216,"./bn.js":43345,"./bo":81713,"./bo.js":81713,"./br":19655,"./br.js":19655,"./bs":87296,"./bs.js":87296,"./ca":43049,"./ca.js":43049,"./cs":62722,"./cs.js":62722,"./cv":98039,"./cv.js":98039,"./cy":95563,"./cy.js":95563,"./da":31960,"./da.js":31960,"./de":67533,"./de-at":76674,"./de-at.js":76674,"./de-ch":17732,"./de-ch.js":17732,"./de.js":67533,"./dv":78343,"./dv.js":78343,"./el":37004,"./el.js":37004,"./en-au":32517,"./en-au.js":32517,"./en-ca":84929,"./en-ca.js":84929,"./en-gb":99722,"./en-gb.js":99722,"./en-ie":96923,"./en-ie.js":96923,"./en-il":68050,"./en-il.js":68050,"./en-in":99624,"./en-in.js":99624,"./en-nz":70540,"./en-nz.js":70540,"./en-sg":14375,"./en-sg.js":14375,"./eo":10040,"./eo.js":10040,"./es":99720,"./es-do":25595,"./es-do.js":25595,"./es-mx":10180,"./es-mx.js":10180,"./es-us":61563,"./es-us.js":61563,"./es.js":99720,"./et":9217,"./et.js":9217,"./eu":39474,"./eu.js":39474,"./fa":85243,"./fa.js":85243,"./fi":57645,"./fi.js":57645,"./fil":55350,"./fil.js":55350,"./fo":75622,"./fo.js":75622,"./fr":91467,"./fr-ca":53439,"./fr-ca.js":53439,"./fr-ch":14335,"./fr-ch.js":14335,"./fr.js":91467,"./fy":86026,"./fy.js":86026,"./ga":32969,"./ga.js":32969,"./gd":21347,"./gd.js":21347,"./gl":11085,"./gl.js":11085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":69597,"./gom-latn.js":69597,"./gu":28705,"./gu.js":28705,"./he":69128,"./he.js":69128,"./hi":92821,"./hi.js":92821,"./hr":9002,"./hr.js":9002,"./hu":94814,"./hu.js":94814,"./hy-am":30658,"./hy-am.js":30658,"./id":29344,"./id.js":29344,"./is":28204,"./is.js":28204,"./it":70376,"./it-ch":81549,"./it-ch.js":81549,"./it.js":70376,"./ja":69293,"./ja.js":69293,"./jv":96401,"./jv.js":96401,"./ka":60482,"./ka.js":60482,"./kk":87329,"./kk.js":87329,"./km":44241,"./km.js":44241,"./kn":23566,"./kn.js":23566,"./ko":52742,"./ko.js":52742,"./ku":92915,"./ku.js":92915,"./ky":86846,"./ky.js":86846,"./lb":44959,"./lb.js":44959,"./lo":82188,"./lo.js":82188,"./lt":58967,"./lt.js":58967,"./lv":41245,"./lv.js":41245,"./me":90751,"./me.js":90751,"./mi":57501,"./mi.js":57501,"./mk":11643,"./mk.js":11643,"./ml":15597,"./ml.js":15597,"./mn":67612,"./mn.js":67612,"./mr":19065,"./mr.js":19065,"./ms":84703,"./ms-my":84645,"./ms-my.js":84645,"./ms.js":84703,"./mt":64365,"./mt.js":64365,"./my":83788,"./my.js":83788,"./nb":57357,"./nb.js":57357,"./ne":99109,"./ne.js":99109,"./nl":63746,"./nl-be":31985,"./nl-be.js":31985,"./nl.js":63746,"./nn":27175,"./nn.js":27175,"./oc-lnc":70566,"./oc-lnc.js":70566,"./pa-in":32733,"./pa-in.js":32733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":17839,"./pt-br.js":17839,"./pt.js":505,"./ro":39578,"./ro.js":39578,"./ru":32328,"./ru.js":32328,"./sd":641,"./sd.js":641,"./se":51758,"./se.js":51758,"./si":36680,"./si.js":36680,"./sk":25016,"./sk.js":25016,"./sl":7424,"./sl.js":7424,"./sq":88635,"./sq.js":88635,"./sr":49038,"./sr-cyrl":73716,"./sr-cyrl.js":73716,"./sr.js":49038,"./ss":64771,"./ss.js":64771,"./sv":3517,"./sv.js":3517,"./sw":39419,"./sw.js":39419,"./ta":55959,"./ta.js":55959,"./te":21739,"./te.js":21739,"./tet":22264,"./tet.js":22264,"./tg":94792,"./tg.js":94792,"./th":88328,"./th.js":88328,"./tk":60702,"./tk.js":60702,"./tl-ph":57814,"./tl-ph.js":57814,"./tlh":10797,"./tlh.js":10797,"./tr":16691,"./tr.js":16691,"./tzl":76891,"./tzl.js":76891,"./tzm":16362,"./tzm-latn":37855,"./tzm-latn.js":37855,"./tzm.js":16362,"./ug-cn":77606,"./ug-cn.js":77606,"./uk":30513,"./uk.js":30513,"./ur":43803,"./ur.js":43803,"./uz":60344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":60344,"./vi":70003,"./vi.js":70003,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":62083,"./yo.js":62083,"./zh-cn":84536,"./zh-cn.js":84536,"./zh-hk":92475,"./zh-hk.js":92475,"./zh-mo":67593,"./zh-mo.js":67593,"./zh-tw":4746,"./zh-tw.js":4746};function r(t){var e=i(t);return s(e)}function i(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id=46700},744:(t,e,s)=>{t.exports=s.p+"img/logo.8fd7cb3f.png"}}]);