"use strict";(self["webpackChunkcustomersurveysystem3"]=self["webpackChunkcustomersurveysystem3"]||[]).push([[391],{22665:(e,l,t)=>{t.r(l),t.d(l,{default:()=>We});var a=t(83673),i=t(62323),o=t(98880);const n=e=>((0,a.dD)("data-v-6409fbe0"),e=e(),(0,a.Cn)(),e),s={class:"q-pa-md"},r={class:"row"},u={class:"q-pa-md"},d=(0,a.Uk)("Scan QR"),c={class:"row"},m={class:"q-pa-lg"},y=(0,a.Uk)(" Preferred verification: "),v={class:"row"},w={class:"q-pa-lg"},p={id:"legendPanel"},g=n((()=>(0,a._)("tr",null,[(0,a._)("th",{colspan:"2"},"Legend")],-1))),f=n((()=>(0,a._)("tr",null,[(0,a._)("th",null,"Rating"),(0,a._)("th",null,"Smiley")],-1))),_=n((()=>(0,a._)("th",null,"Poor - 1",-1))),b=n((()=>(0,a._)("th",null,"Fair - 2",-1))),h=n((()=>(0,a._)("th",null,"Satisfactory - 3",-1))),V=n((()=>(0,a._)("th",null,"Very Satisfactory - 4",-1))),q=n((()=>(0,a._)("th",null,"Excellent - 5",-1))),k={class:"row"},x={class:""},S={key:0},C={class:"row"},Q={class:"questions"},A={class:"row inline"},W={class:"inputs"},H={key:1},R={class:"questions"},z={class:"surveyquestions"},Z=n((()=>(0,a._)("div",{class:"row inline>"},[(0,a._)("div",{class:"col-4"},[(0,a._)("h5",null,"Survey Questions")])],-1))),F={class:"row"},P={class:"col-4 col-md-4"},D={class:"questions"},I={class:"row inline"},M={class:"inputs"},N={class:"row justify-end"},U={class:"text-h5 inline"},E=n((()=>(0,a._)("tr",null,[(0,a._)("th",null,"Questions"),(0,a._)("th",null,"Answers")],-1))),B={key:0,style:{"text-align":"left"}},T={key:1,style:{"text-align":"right"}},j={class:"row justify-center"},X=n((()=>(0,a._)("div",{class:"text-h6"},"How was your experience using the app?",-1))),L=n((()=>(0,a._)("div",{class:"text-h6"},"Scan QR Code",-1))),Y=(0,a.Uk)("Close"),$={class:"scan-confirmation"};function K(e,l,t,n,K,O){const G=(0,a.up)("q-input"),J=(0,a.up)("q-tooltip"),ee=(0,a.up)("q-btn"),le=(0,a.up)("q-option-group"),te=(0,a.up)("q-icon"),ae=(0,a.up)("CustomSurveyField"),ie=(0,a.up)("q-card-section"),oe=(0,a.up)("q-card-actions"),ne=(0,a.up)("q-card"),se=(0,a.up)("q-dialog"),re=(0,a.up)("q-spinner-facebook"),ue=(0,a.up)("q-form"),de=(0,a.up)("q-rating"),ce=(0,a.up)("q-space"),me=(0,a.up)("qrcode-stream"),ye=(0,a.up)("q-page"),ve=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(ye,null,{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(ue,{onSubmit:e.onSubmit,class:"q-gutter-md",ref:"surveyRefForm"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a._)("div",null,[(0,a.Wm)(G,{ref:"inputRef",filled:"","lazy-rules":"",rules:[e=>!!e||"Field is required",e=>/^[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}$/.test(e)||"Field should be a valid tsr number ex. XXX-XXX-XXX-XXX"],outlined:"",modelValue:e.TsrNo,"onUpdate:modelValue":l[0]||(l[0]=l=>e.TsrNo=l),label:"TSR Number",style:{width:"250px"},"stack-label":""},null,8,["rules","modelValue"])]),(0,a._)("div",null,[(0,a._)("div",u,[(0,a.Wm)(ee,{round:"",color:"primary",onClick:l[1]||(l[1]=l=>e.showQRStream=!0),icon:"fas fa-qrcode"},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{class:"bg-white text-primary"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1})])])]),(0,a._)("div",c,[(0,a._)("div",m,[y,(0,a.Wm)(le,{modelValue:e.group,"onUpdate:modelValue":l[2]||(l[2]=l=>e.group=l),options:e.options,color:"primary",inline:""},null,8,["modelValue","options"])])]),(0,a._)("div",v,[(0,a._)("div",w,[3==e.modeValidate?((0,a.wg)(),(0,a.j4)(G,{key:0,ref:"emailRef",filled:"","lazy-rules":"",rules:[e=>!!e||"Field is required",e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"Field should be a valid email ex. xxxx@mail.com"],outlined:"",modelValue:e.emailCustomerValidate,"onUpdate:modelValue":l[3]||(l[3]=l=>e.emailCustomerValidate=l),label:e.selectedLabel,style:{width:"250px"},"stack-label":""},null,8,["rules","modelValue","label"])):1==e.modeValidate?((0,a.wg)(),(0,a.j4)(G,{key:1,ref:"emailRef",filled:"","lazy-rules":"",rules:[e=>!!e||"Field is required",e=>/^(09|\+639)\d{9}$/.test(e)||"Field should be a valid mobile number ex 09xxxxxxxxx or +639xxxxxxxxx"],outlined:"",modelValue:e.emailCustomerValidate,"onUpdate:modelValue":l[4]||(l[4]=l=>e.emailCustomerValidate=l),label:e.selectedLabel,style:{width:"250px"},"stack-label":""},null,8,["rules","modelValue","label"])):((0,a.wg)(),(0,a.j4)(G,{key:2,ref:"emailRef",filled:"","lazy-rules":"",rules:[e=>!!e||"Field is required",e=>/^\d{3}-\d{4}$/.test(e)||"Field should be a valid telephone number ex xxx-xxxx"],outlined:"",modelValue:e.emailCustomerValidate,"onUpdate:modelValue":l[5]||(l[5]=l=>e.emailCustomerValidate=l),label:e.selectedLabel,style:{width:"250px"},"stack-label":""},null,8,["rules","modelValue","label"]))])]),(0,a._)("div",p,[(0,a._)("table",null,[g,f,(0,a._)("tr",null,[_,(0,a._)("th",null,[(0,a.Wm)(te,{name:"sentiment_very_dissatisfied",size:"2.0em"})])]),(0,a._)("tr",null,[b,(0,a._)("th",null,[(0,a.Wm)(te,{name:"sentiment_dissatisfied",size:"2.0em"})])]),(0,a._)("tr",null,[h,(0,a._)("th",null,[(0,a.Wm)(te,{name:"sentiment_satisfied",size:"2.0em"})])]),(0,a._)("tr",null,[V,(0,a._)("th",null,[(0,a.Wm)(te,{name:"sentiment_satisfied_alt",size:"2.0em"})])]),(0,a._)("tr",null,[q,(0,a._)("th",null,[(0,a.Wm)(te,{name:"sentiment_very_satisfied",size:"2.0em"})])])])]),(0,a._)("div",k,[(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.orderByPositionQuestions,((l,t)=>((0,a.wg)(),(0,a.iD)("div",{key:l.question},[(0,a._)("div",null,[0==l.children.length?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",C,[(0,a._)("p",Q,(0,i.zw)(l.description),1)]),(0,a._)("div",A,[(0,a._)("div",W,[3==l.id?((0,a.wg)(),(0,a.j4)(ae,{key:0,modelValue:e.surveyAnswer.answers[t],"onUpdate:modelValue":l=>e.surveyAnswer.answers[t]=l,questionId:l.id,question_type:l.question_type,labelval:l.label},null,8,["modelValue","onUpdate:modelValue","questionId","question_type","labelval"])):((0,a.wg)(),(0,a.j4)(ae,{key:1,modelValue:e.surveyAnswer.answers[t],"onUpdate:modelValue":l=>e.surveyAnswer.answers[t]=l,questionId:l.id,question_type:l.question_type,labelval:l.label},null,8,["modelValue","onUpdate:modelValue","questionId","question_type","labelval"]))])])])):l.children.length>0?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("p",R,(0,i.zw)(l.description),1),(0,a._)("div",z,[Z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.orderByNestedSurveyQuestions(l.children),((l,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"q-pa-md",key:l.id},[(0,a._)("div",F,[(0,a._)("div",P,[(0,a._)("p",D,(0,i.zw)(o+1)+". "+(0,i.zw)(l.description),1)]),(0,a._)("div",I,[(0,a._)("div",M,[(0,a.Wm)(ae,{modelValue:e.subHeaderSurveyAnswer.answers[e.orderByPositionQuestions.slice(0,t).reduce(((e,l)=>e+l.children.length),0)+o],"onUpdate:modelValue":l=>e.subHeaderSurveyAnswer.answers[e.orderByPositionQuestions.slice(0,t).reduce(((e,l)=>e+l.children.length),0)+o]=l,questionId:l.id,question_type:l.question_type,labelval:l.label},null,8,["modelValue","onUpdate:modelValue","questionId","question_type","labelval"])]),(0,a._)("div",null,[e.subHeaderSurveyAnswer.answers[e.orderByPositionQuestions.slice(0,t).reduce(((e,l)=>e+l.children.length),0)+o].value<3&&""!=e.subHeaderSurveyAnswer.answers[e.orderByPositionQuestions.slice(0,t).reduce(((e,l)=>e+l.children.length),0)+o].value?((0,a.wg)(),(0,a.j4)(G,{key:0,modelValue:e.subHeaderSurveyAnswer.answers[e.orderByPositionQuestions.slice(0,t).reduce(((e,l)=>e+l.children.length),0)+o].remarks,"onUpdate:modelValue":l=>e.subHeaderSurveyAnswer.answers[e.orderByPositionQuestions.slice(0,t).reduce(((e,l)=>e+l.children.length),0)+o].remarks=l,outlined:"",label:"Remarks:",style:{width:"300px"},"stack-label":"","lazy-rules":"",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","rules"])):(0,a.kq)("",!0)])])])])))),128))])])):(0,a.kq)("",!0)])])))),128))])]),(0,a._)("div",N,[(0,a.Wm)(se,{modelValue:e.prompt,"onUpdate:modelValue":l[6]||(l[6]=l=>e.prompt=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(ne,{style:{"min-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a._)("div",U,[(0,a._)("span",null,"Please Confirm Answers for TSR Number: "+(0,i.zw)(e.TsrNo),1)])])),_:1}),(0,a.Wm)(ie,{class:"row items-left"},{default:(0,a.w5)((()=>[(0,a._)("table",null,[E,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(l=>((0,a.wg)(),(0,a.iD)("tr",{key:l.id},[void 0!=e.answer.value?((0,a.wg)(),(0,a.iD)("td",B,(0,i.zw)(l.description),1)):(0,a.kq)("",!0),void 0!=e.answer.value?((0,a.wg)(),(0,a.iD)("td",T,(0,i.zw)(l.value),1)):(0,a.kq)("",!0)])))),128))])])),_:1}),(0,a.Wm)(oe,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(ee,{flat:"",label:"Cancel",color:"primary"},null,512),[[ve]]),(0,a.wy)((0,a.Wm)(ee,{flat:"",label:"Submit",onClick:e.onSubmit,color:"primary"},null,8,["onClick"]),[[ve]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,a._)("div",j,[(0,a.Wm)(ee,{label:"Reset Form",class:"q-ma-sm",color:"primary",onClick:e.clearFields},null,8,["onClick"]),(0,a.Wm)(ee,{class:"q-ma-sm",color:"primary",label:"Submit",onClick:e.confirmModalShow},{loading:(0,a.w5)((()=>[(0,a.Wm)(re)])),_:1},8,["onClick"])])])),_:1},8,["onSubmit"])]),(0,a.Wm)(se,{modelValue:e.feedbackAfter,"onUpdate:modelValue":l[10]||(l[10]=l=>e.feedbackAfter=l),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(ne,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,null,{default:(0,a.w5)((()=>[X])),_:1}),(0,a.Wm)(ie,{class:"row justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(de,{modelValue:e.ratingApp.value,"onUpdate:modelValue":l[7]||(l[7]=l=>e.ratingApp.value=l),size:"3.5em",color:"primary",icon:"star_border"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(ie,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(G,{dense:"",modelValue:e.ratingApp.remarks,"onUpdate:modelValue":l[8]||(l[8]=l=>e.ratingApp.remarks=l),autofocus:"",onKeyup:l[9]||(l[9]=(0,o.D2)((l=>e.prompt=!1),["enter"]))},null,8,["modelValue"]),[[o.F8,e.ratingApp.value<=2&&e.ratingApp.value>0]])])),_:1}),(0,a.Wm)(oe,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(ee,{flat:"",label:"Submit",onClick:e.submitRateAppSurvey},null,8,["onClick"]),[[ve]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(se,{modelValue:e.showQRStream,"onUpdate:modelValue":l[11]||(l[11]=l=>e.showQRStream=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(ne,{style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{class:"row items-center bg-primary text-white"},{default:(0,a.w5)((()=>[L,(0,a.Wm)(ce),(0,a.wy)((0,a.Wm)(ee,{class:"float-right",dense:"",flat:"",icon:"close"},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{class:"bg-white text-primary"},{default:(0,a.w5)((()=>[Y])),_:1})])),_:1},512),[[ve]])])),_:1}),(0,a.Wm)(ie,{class:"bg-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(me,{camera:e.camera,onDecode:e.onDecode,onInit:e.onInit},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",$,null,512),[[o.F8,e.showScanConfirmation]])])),_:1},8,["camera","onDecode","onInit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}t(10071);var O=t(48825),G=t(61959);const J={key:0},ee={key:1},le={key:2};function te(e,l,t,o,n,s){const r=(0,a.up)("q-input"),u=(0,a.up)("q-tooltip"),d=(0,a.up)("q-rating");return 1==t.question_type?((0,a.wg)(),(0,a.iD)("div",J,[(0,a.Wm)(r,{outlined:"",modelValue:o.inputViewModel,"onUpdate:modelValue":l[0]||(l[0]=e=>o.inputViewModel=e),label:t.labelval,style:{width:"500px"},"stack-label":""},null,8,["modelValue","label"])])):12==o.props.questionId?((0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(d,{modelValue:o.inputViewModel,"onUpdate:modelValue":l[1]||(l[1]=e=>o.inputViewModel=e),name:"answerRating",max:5,size:"3.0em",color:"grey","lazy-rules":"",rules:[e=>""==e||"Field is required"],"color-selected":[[o.colorRate(o.inputViewModel),"grey","grey","grey","grey"],["grey",o.colorRate(o.inputViewModel),"grey","grey","grey"],["grey","grey",o.colorRate(o.inputViewModel),"grey","grey"],["grey","grey","grey",o.colorRate(o.inputViewModel),"grey"],["grey","grey","grey","grey",o.colorRate(o.inputViewModel)]][o.inputViewModel?o.inputViewModel-1:0],icon:["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_satisfied_alt","sentiment_very_satisfied"]},(0,a.Nv)({_:2},[(0,a.Ko)(o.rateDefinitions,((e,l)=>({name:`tip-${l+1}`,fn:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e),1)])),_:2},1024)]))})))]),1032,["modelValue","rules","color-selected"])])):2==t.question_type?((0,a.wg)(),(0,a.iD)("div",le,[(0,a.Wm)(d,{modelValue:o.inputViewModel,"onUpdate:modelValue":l[2]||(l[2]=e=>o.inputViewModel=e),max:5,size:"3.0em",color:"grey","color-selected":[[o.colorRate(o.inputViewModel),"grey","grey","grey","grey"],["grey",o.colorRate(o.inputViewModel),"grey","grey","grey"],["grey","grey",o.colorRate(o.inputViewModel),"grey","grey"],["grey","grey","grey",o.colorRate(o.inputViewModel),"grey"],["grey","grey","grey","grey",o.colorRate(o.inputViewModel)]][o.inputViewModel?o.inputViewModel-1:0],icon:["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_satisfied_alt","sentiment_very_satisfied"]},(0,a.Nv)({_:2},[(0,a.Ko)(o.rateDefinitions,((e,l)=>({name:`tip-${l+1}`,fn:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e),1)])),_:2},1024)]))})))]),1032,["modelValue","color-selected"])])):(0,a.kq)("",!0)}const ae={props:{modelValue:Object,question_type:Number,optionval:Array,labelval:String,questionId:Number},setup(e,{emit:l}){function t(){l("update:modelValue",{...e.modelValue,question:e.questionId})}(0,a.bv)((()=>{t()}));const i=(0,G.Fl)({get:()=>2==e.question_type?e.modelValue?parseInt(e.modelValue.value):0:e.modelValue?e.modelValue.value:"",set:t=>{if(!t)return null;l("update:modelValue",{...e.modelValue,value:t.toString()})}});function o(e){return["negative","deep-orange","positive","secondary","orange"][+e-1]}const n=["Poor","Fair","Satisfactory","Very Satisfactory","Outstanding"];return{inputViewModel:i,props:e,colorRate:o,rateDefinitions:n}}};var ie=t(64689),oe=t(98833),ne=t(5363),se=t(63314),re=t(7518),ue=t.n(re);ae.render=te;const de=ae;ue()(ae,"components",{QInput:ie.Z,QRating:oe.Z,QTooltip:ne.Z,QSelect:se.Z});var ce=t(26873),me=t(55093),ye=t(24334),ve=t.n(ye),we=t(44626);const pe=(0,a.aZ)({name:"Survey",components:{CustomSurveyField:de,QrcodeStream:we.QrcodeStream},setup(){let e;console.log("QrcodeStream",we.QrcodeStream);const l=(0,G.iH)(!1),t=(0,G.iH)("auto"),i=(0,G.iH)(null),o=(0,G.iH)(!1),n=(0,O.Z)(),s=(0,G.iH)(null),r=(0,G.iH)([]),u=((0,G.iH)([]),(0,G.iH)(null)),d=(0,G.iH)(0),c=(0,G.iH)(null),m=(0,G.iH)(null),y=(0,G.iH)(null),v=(0,G.iH)(null),w=(0,G.iH)(null),p=(0,G.iH)(null),g=(0,G.iH)(!1),f=((0,G.iH)(null),(0,G.iH)(null)),_=(0,G.iH)("mobileNumber"),b=(0,G.iH)(1),h=(0,G.iH)("Mobile Number"),V=[{label:"Mobile Number",value:"mobileNumber"},{label:"Telephone Number",value:"telNumber"},{label:"Email",value:"email"}],q=(0,G.iH)({value:"",remarks:""});(0,a.YP)(_,((e,l)=>{let t;switch(e){case"mobileNumber":t="Mobile Number",b.value=1;break;case"telNumber":t="Telephone Number",b.value=2;break;case"email":b.value=3,t="Email";break;default:break}c.value="",h.value=t})),(0,a.YP)(m,((e,l)=>{const t=/^[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}$/;t.test(e)&&z(e)}));const k=(0,G.iH)(!1),x=(0,G.iH)(!1),S=(0,G.iH)([]);let C=0;const Q=(0,G.iH)([]),A=(0,G.qj)({answerid:"",value:"",question:"",tsrNo:"",remarks:""}),W=(0,G.qj)({answers:[]}),H=(0,G.qj)({answers:[]}),R=(0,G.iH)("position"),z=async e=>{f.value=await(0,ce.gF)(e),f.value&&(v.value=f.value.indusry,y.value=f.value.service,p.value=f.value.sectionCode,w.value=f.value.division)},Z=async()=>{try{r.value=await(0,ce.ld)(),r.value=ve()(r.value,R.value),S.value=r.value.filter((e=>(e.children=r.value.filter((l=>l.parent===e.id)),null===e.parent))),console.log("questions.value.",r.value),Q.value=[...new Set(r.value.map((({id:e,description:l,value:t})=>({id:e,description:l,value:t}))))],S.value.forEach((e=>{e.children.forEach((e=>{C++,r.value.forEach(((l,t)=>{e.id==l.id&&r.value.splice(t,1)}))}))})),d.value=r.value.length,B(),u.value=!1}catch(e){throw e}},F=(0,G.Fl)((()=>ve()(S.value,R.value)));function P(){n.loading.show({message:"Please wait for data to be submitted..",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"})}function D(){e=void 0,n.loading.hide()}function I(e){return ve()(e,R.value)}function M(){k.value=!0;for(let e=0;e<W.answers.length;e++){W.answers[e].tsrNo=m.value;for(let l=0;l<Q.value.length;l++)Q.value[l].id==W.answers[e].question&&(Q.value[l].value=W.answers[e].value)}for(let e=0;e<C;e++){H.answers[e].tsrNo=m.value;for(let l=0;l<Q.value.length;l++)Q.value[l].id==H.answers[e].question&&(Q.value[l].value=H.answers[e].value)}}function N(){m.value="",c.value="",W.answers.forEach((e=>{e.remarks="",e.value=""})),H.answers.forEach((e=>{e.remarks="",e.value=""})),s.value.reset()}async function U(){q.value&&await(0,ce.LE)(q.value)}async function E(){v.value&&""!=v.value||(v.value="");let e=["ATD"],l=!0;e.forEach((async e=>{e==w.value&&(l=await(0,ce.mk)(w.value))}));let t=await(0,ce.hQ)(c.value,m.value,b.value);if("403"==t&&n.notify({color:"red-5",textColor:"white",icon:"warning",message:"You are not authorized to submit a survey "}),"400"==t)n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Duplicate TSR"});else if("403"==l)n.notify({color:"red-5",textColor:"white",icon:"warning",message:"You are not authorized to submit a survey "});else if(t&&l)if(f.value.industry&&""!=f.value.industry){P();let e=await(0,ce.ZS)(W.answers,H.answers,m.value,f.value.industry,f.value.service,f.value.division,"",c.value);console.log("aaaaa",e),"200"==e?(N(),D(),n.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted"}),g.value=!0):"401"==e||"404"==e?(D(),n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Error in submitting Form, Please check connection"})):"500"==e&&(D(),n.notify({color:"red-5",textColor:"white",icon:"warning",message:"TSR-No is Duplicate"}))}else n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Industry is empty"});else n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Verification error"})}function B(){for(let e=0;e<d.value;e++)W.answers.push(A);for(let e=0;e<C;e++)H.answers.push(A)}async function T(){s.value.validate().then((e=>{if(f.value)if(Object.keys(f.value).length)if(e){let e=H.answers.find((e=>12==e.question));e.value||""!=e.value?E():n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Please answer Overall Rating Question"})}else n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Please check all the fields"});else n.notify({color:"red-5",textColor:"white",icon:"warning",message:"TSR not Found"});else n.notify({color:"red-5",textColor:"white",icon:"warning",message:"Please check all the fields"})}))}async function j(e){try{await e}catch(a){console.error(a)}finally{l.value="off"===t.value}}async function X(e){if(console.log("content,",e),e){let l=e.split("|");if(l.length>0)if(/^[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}-[a-zA-Z0-9_]{0,8}$/.test(l[0])){switch(m.value=l[0],b.value){case 1:c.value=l[1];break;case 2:c.value=l[1];break;case 3:c.value=l[2];break;default:break}o.value=!1}else console.log("content,",l[0]),n.notify({color:"red-5",textColor:"white",icon:"warning",message:"QR invalid"})}else console.log("content, 1st else",e),console.log("content, 2nd else",e),n.notify({color:"red-5",textColor:"white",icon:"warning",message:"QR Empty"});Y(),await $(500),L()}function L(){t.value="auto"}function Y(){t.value="off"}function $(e){return new Promise((l=>{window.setTimeout(l,e)}))}return(0,a.Jd)((()=>{void 0!==e&&(clearTimeout(e),n.loading.hide())})),(0,a.bv)((()=>{Z(),B()})),{surveyRefForm:s,feedbackAfter:g,ratingApp:q,service:(0,G.iH)(null),industry:(0,G.iH)(null),comments:(0,G.iH)(null),TsrNo:m,emailCustomerValidate:c,CustomSurveyField:de,getAllQuestionsFromApi:Z,submitSurvey:E,orderByPositionQuestions:F,orderByNestedSurveyQuestions:I,surveyAnswer:W,subHeaderSurveyAnswer:H,answer:A,questions:r,onSubmit:T,prompt:k,displayQuestions:S,confirmFlag:x,viewsurveyanswer:me.Z,confirmModalShow:M,cols:Q,serviceData:y,industryData:v,divData:w,sectionData:p,clearFields:N,submitRateAppSurvey:U,showLoading:P,group:_,options:V,selectedLabel:h,modeValidate:b,onDecode:X,QrcodeStream:we.QrcodeStream,showScanConfirmation:l,camera:t,result:i,onInit:j,showQRStream:o}}});let ge=0;setTimeout((function(){document.getElementById("legendPanel").style.visibility="hidden"}),2e3),document.addEventListener("scroll",(function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>ge?(document.getElementById("legendPanel").style.visibility="hidden",document.getElementById("legendPanel").style.opacity="0",document.getElementById("legendPanel").style.transition="visibility 0s, opacity 0.5s linear"):(document.getElementById("legendPanel").style.visibility="visible",document.getElementById("legendPanel").style.opacity="1",document.getElementById("legendPanel").style.transition="visibility 0s, opacity 0.5s linear",setTimeout((function(){document.getElementById("legendPanel").style.visibility="hidden"}),2e3)),ge=e<=0?0:e}),!1);var fe=t(24379),_e=t(68689),be=t(2165),he=t(28758),Ve=t(24554),qe=t(46778),ke=t(10151),xe=t(25589),Se=t(99367),Ce=t(38719),Qe=t(62025),Ae=t(60677);pe.render=K,pe.__scopeId="data-v-6409fbe0";const We=pe;ue()(pe,"components",{QPage:fe.Z,QForm:_e.Z,QInput:ie.Z,QBtn:be.Z,QTooltip:ne.Z,QOptionGroup:he.Z,QIcon:Ve.Z,QDialog:qe.Z,QCard:ke.Z,QCardSection:xe.Z,QCardActions:Se.Z,QSpinnerFacebook:Ce.Z,QRating:oe.Z,QSpace:Qe.Z}),ue()(pe,"directives",{ClosePopup:Ae.Z})}}]);